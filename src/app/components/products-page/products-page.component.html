<app-pathbar></app-pathbar>
<div class="row container-fluid my-5">
  <!-- sidebar Displayed in medium and smaller screens -->
  <div class="d-md-block d-lg-none">
    <div class="d-flex align-items-center mt-3 gap-3 mb-4">
      <button
        class="border-0 bg-body fw-bold fs-4"
        type="button"
        data-bs-toggle="offcanvas"
        data-bs-target="#sidebarOffcanvas"
        aria-controls="sidebarOffcanvas"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
          class="w-6 h-6"
          width="20px"
          height="20px"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"
          />
        </svg>
        Filter by
      </button>
    </div>
    <!-- Offcanvas sidebar -->
    <div
      class="offcanvas offcanvas-start"
      tabindex="-1"
      id="sidebarOffcanvas"
      aria-labelledby="sidebarOffcanvasLabel"
    >
      <div class="offcanvas-body">
        <div class="text center mb-4">
          <button
            (mouseenter)="onMouseEnter()"
            (mouseleave)="onMouseLeave()"
            type="button"
            class="btn w-100 clear-button"
            [ngStyle]="{
              'background-color': isHovered ? 'black' : '',
              color: isHovered ? 'white' : ''
            }"
          >
            Clear All
          </button>
        </div>
        <hr />
        <div class="mb-4">
          <div class="d-flex align-items-center justify-content-between">
            <h4>Availability</h4>
            <span class="text-secondary text-right">Reset</span>
          </div>
          <div
            class="form-check d-flex align-items-center justify-content-between"
          >
            <div>
              <input
                class="form-check-input"
                type="checkbox"
                value=""
                id="flexCheckDefault"
              />
              <label class="form-check-label fw-normal" for="flexCheckDefault">
                In stock
              </label>
            </div>
            <p class="fw-normal">(10)</p>
          </div>

          <div
            class="form-check d-flex align-items-center justify-content-between"
          >
            <div>
              <input
                class="form-check-input"
                type="checkbox"
                value=""
                id="flexCheckDisabled"
                disabled
              />
              <label class="form-check-label" for="flexCheckDisabled">
                Out of stock
              </label>
            </div>
            <p class="fw-normal">(0)</p>
          </div>
        </div>

        <hr />
        <div class="mb-4">
          <div class="d-flex align-items-center justify-content-between">
            <h4>Price</h4>
            <input
              type="button"
              class="text-secondary border-0 bg-body text-right"
              (click)="resetSliderValues()"
              value="Reset"
            />
          </div>
          <div class="ruler">
            <div>
              <ngx-slider
                [(value)]="value"
                [(highValue)]="highValue"
                [options]="options"
              ></ngx-slider>
            </div>
            <div class="d-flex flex-column">
              <div class="ticks">
                <div class="tick" style="left: 25%">25</div>
                <div class="tick" style="left: 50%">50</div>
              </div>
              <div class="tick-marks">
                <div class="tick" style="left: 25%">|</div>
                <div class="tick" style="left: 50%">|</div>
              </div>
            </div>
          </div>
          <div class="d-flex align-items-center mt-5 gap-3">
            <input
              type="text"
              class="filter-price text-center"
              [(ngModel)]="value"
              (input)="filterProductsByPrice()"
            />
            <p class="mt-3">â€”</p>
            <input
              type="text"
              class="filter-price text-center"
              [(ngModel)]="highValue"
              (input)="filterProductsByPrice()"
            />
          </div>
        </div>
        <hr />
        <div class="mb-4">
          <div class="d-flex align-items-center justify-content-between">
            <h4>More Filters</h4>
            <span class="text-secondary text-right">Reset</span>
          </div>
          <div
            class="form-check d-flex align-items-center justify-content-between"
          >
            <div>
              <input
                class="form-check-input"
                type="checkbox"
                value=""
                id="flexCheckDefault"
              />
              <label class="form-check-label fw-normal" for="flexCheckDefault">
                Espresso
              </label>
            </div>
            <p class="fw-normal">(10)</p>
          </div>

          <div
            class="form-check d-flex align-items-center justify-content-between"
          >
            <div>
              <input
                class="form-check-input"
                type="checkbox"
                value=""
                id="flexCheckDefault"
              />
              <label class="form-check-label fw-normal" for="flexCheckDefault">
                French press
              </label>
            </div>
            <p class="fw-normal">(2)</p>
          </div>
          <div
            class="form-check d-flex align-items-center justify-content-between"
          >
            <div>
              <input
                class="form-check-input"
                type="checkbox"
                value=""
                id="flexCheckDefault"
              />
              <label class="form-check-label fw-normal" for="flexCheckDefault">
                Cold brew
              </label>
            </div>
            <p class="fw-normal">(5)</p>
          </div>

          <div
            class="form-check d-flex align-items-center justify-content-between"
          >
            <div>
              <input
                class="form-check-input"
                type="checkbox"
                value=""
                id="flexCheckDefault"
              />
              <label class="form-check-label fw-normal" for="flexCheckDefault">
                Coffee beans
              </label>
            </div>
            <p class="fw-normal">(5)</p>
          </div>
        </div>
        <hr />

        <div class="mb-4">
          <div class="d-flex align-items-center justify-content-between">
            <h4>Brands</h4>
            <span class="text-secondary text-right">Reset</span>
          </div>
          <div
            class="form-check d-flex align-items-center justify-content-between"
          >
            <div>
              <input
                class="form-check-input"
                type="checkbox"
                value=""
                id="flexCheckDefault"
              />
              <label class="form-check-label fw-normal" for="flexCheckDefault">
                Lavazza
              </label>
            </div>
            <p class="fw-normal">(10)</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- End of sidebar -->

  <div class="col-3 d-none d-lg-block mx-3">
    <div class="d-flex align-items-center mt-3 gap-3 mb-4">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
        class="w-6 h-6"
        width="20px"
        height="20px"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"
        />
      </svg>
      <h4 class="fw-bold mt-3">Filter by</h4>
    </div>
    <hr />

    <div class="text center w-100 mb-4">
      <button
        (mouseenter)="onMouseEnter()"
        (mouseleave)="onMouseLeave()"
        type="button"
        class="btn w-100 clear-button"
        [ngStyle]="{
          'background-color': isHovered ? 'black' : '',
          color: isHovered ? 'white' : ''
        }"
        (click)="resetSliderValues()"
      >
        Clear All
      </button>
    </div>
    <hr />
    <div class="mb-4">
      <div class="d-flex align-items-center justify-content-between">
        <h4>Availability</h4>
        <span class="text-secondary text-right">Reset</span>
      </div>
      <div class="form-check d-flex align-items-center justify-content-between">
        <div>
          <input
            class="form-check-input"
            type="checkbox"
            value=""
            id="flexCheckDefault"
          />
          <label class="form-check-label fw-normal" for="flexCheckDefault">
            In stock
          </label>
        </div>
        <p class="fw-normal">(10)</p>
      </div>

      <div class="form-check d-flex align-items-center justify-content-between">
        <div>
          <input
            class="form-check-input"
            type="checkbox"
            value=""
            id="flexCheckDisabled"
            disabled
          />
          <label class="form-check-label" for="flexCheckDisabled">
            Out of stock
          </label>
        </div>
        <p class="fw-normal">(0)</p>
      </div>
    </div>

    <hr />
    <div class="mb-4">
      <div class="d-flex align-items-center justify-content-between">
        <h4>Price</h4>
        <input
          type="button"
          class="text-secondary border-0 bg-body text-right mb-3"
          (click)="resetSliderValues()"
          value="Reset"
        />
      </div>
      <div class="ruler">
        <div>
          <ngx-slider
            [(value)]="value"
            [(highValue)]="highValue"
            [options]="options"
          ></ngx-slider>
        </div>
        <div class="d-flex flex-column">
          <div class="ticks">
            <div class="tick" style="left: 25%">25</div>
            <div class="tick" style="left: 50%">50</div>
          </div>
          <div class="tick-marks">
            <div class="tick" style="left: 25%">|</div>
            <div class="tick" style="left: 50%">|</div>
          </div>
        </div>
      </div>
      <div class="d-flex align-items-center mt-5 gap-3">
        <input
          type="text"
          class="filter-price text-center"
          [(ngModel)]="value"
          (input)="filterProductsByPrice()"
        />
        <p class="mt-3">â€”</p>
        <input
          type="text"
          class="filter-price text-center"
          [(ngModel)]="highValue"
          (input)="filterProductsByPrice()"
        />
      </div>
    </div>
    <hr />
    <div class="mb-4">
      <div class="d-flex align-items-center justify-content-between">
        <h4>More Filters</h4>
        <span class="text-secondary text-right">Reset</span>
      </div>
      <div class="form-check d-flex align-items-center justify-content-between">
        <div>
          <label class="form-check-label fw-normal" for="flexCheckDefault">
            Espresso
          </label>
        </div>
        <p class="fw-normal">(10)</p>
      </div>

      <div class="form-check d-flex align-items-center justify-content-between">
        <div>
          <input
            class="form-check-input"
            type="checkbox"
            value=""
            id="flexCheckDefault"
          />
          <label class="form-check-label fw-normal" for="flexCheckDefault">
            French press
          </label>
        </div>
        <p class="fw-normal">(2)</p>
      </div>
      <div class="form-check d-flex align-items-center justify-content-between">
        <div>
          <input
            class="form-check-input"
            type="checkbox"
            value=""
            id="flexCheckDefault"
          />
          <label class="form-check-label fw-normal" for="flexCheckDefault">
            Cold brew
          </label>
        </div>
        <p class="fw-normal">(5)</p>
      </div>

      <div class="form-check d-flex align-items-center justify-content-between">
        <div>
          <input
            class="form-check-input"
            type="checkbox"
            value=""
            id="flexCheckDefault"
          />
          <label class="form-check-label fw-normal" for="flexCheckDefault">
            Coffee beans
          </label>
        </div>
        <p class="fw-normal">(5)</p>
      </div>
    </div>
    <hr />

    <div class="mb-4">
      <div class="d-flex align-items-center justify-content-between">
        <h4>Brands</h4>
        <span class="text-secondary text-right">Reset</span>
      </div>
      <div class="form-check d-flex align-items-center justify-content-between">
        <div>
          <input
            class="form-check-input"
            type="checkbox"
            value=""
            id="flexCheckDefault"
          />
          <label class="form-check-label fw-normal" for="flexCheckDefault">
            Lavazza
          </label>
        </div>
        <p class="fw-normal">(10)</p>
      </div>
    </div>
  </div>

  <!-- Sort and Products Region -->
  <div class="container col-8">
    <!-- Sort Region -->
    <div class="d-flex align-items-center mt-3 gap-3 mb-4">
      <div class="dropdown">
        <button
          class="dropdown-toggle border-0 bg-body text-secondary"
          type="button"
          id="dropdownMenuButton"
          data-bs-toggle="dropdown"
          aria-expanded="false"
        >
          Sort by {{ selectedSortOption ? "- " + selectedSortOption : "" }}
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
          <div class="form-check d-flex" *ngFor="let option of sortOptions">
            <input
              class="dropdown-item radio-btn fw-bold"
              type="radio"
              id="{{ option.id }}"
              name="sortBy"
              [(ngModel)]="selectedSortOption"
              [value]="option.value"
              (click)="onSortOptionSelected(option.id)"
            />
            <label for="{{ option.id }}">{{ option.label }}</label>
          </div>
        </ul>
      </div>
    </div>
    <!-- End Of Sort -->

    <!-- Products Region -->
    <div class="row products-container">
      <div class="mt-2">
        <!-- Products -->

        <div class="row mt-3 d-flex mb-5">
          <!-- Show all products if no filtering -->
          <ng-container *ngIf="filteredProducts.length === 0">
            <app-product
              *ngFor="
                let product of products
                  | paginate
                    : { itemsPerPage: pageSize, currentPage: currentPage }
              "
              class="col-12 col-md-6 col-lg-4 products"
              [product]="product"
            ></app-product>
          </ng-container>

          <!-- Show filtered products if filtering is applied -->
          <ng-container *ngIf="filteredProducts.length > 0">
            <app-product
              *ngFor="
                let product of filteredProducts
                  | paginate
                    : { itemsPerPage: pageSize, currentPage: currentPage }
              "
              class="col-12 col-md-6 col-lg-4 products"
              [product]="product"
            ></app-product>
          </ng-container>
        </div>
      </div>
    </div>
    <!-- End of Products -->
  </div>
  <!-- End of Sort & Products -->

  <!-- Next & Previous buttons for pagination -->
  <div class="d-flex justify-content-end">
    <button
      class="nextBtn"
      (click)="previousPage()"
      [disabled]="currentPage === 1"
    >
      Previous
    </button>
    <div class="paginationLabel">
      <label>{{ currentPage }}</label>
    </div>
    <button
      class="previousBtn"
      (click)="nextPage()"
      [disabled]="currentPage === totalPages"
    >
      Next
    </button>
  </div>
</div>

<!-- Tags Region -->
<div class="tags-container">
  <div class="d-flex gap-2 mx-3 tag">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 24 24"
      fill="currentColor"
      class="w-6 h-6"
      width="20px"
      height="20px"
    >
      <path
        fill-rule="evenodd"
        d="M5.25 2.25a3 3 0 0 0-3 3v4.318a3 3 0 0 0 .879 2.121l9.58 9.581c.92.92 2.39 1.186 3.548.428a18.849 18.849 0 0 0 5.441-5.44c.758-1.16.492-2.629-.428-3.548l-9.58-9.581a3 3 0 0 0-2.122-.879H5.25ZM6.375 7.5a1.125 1.125 0 1 0 0-2.25 1.125 1.125 0 0 0 0 2.25Z"
        clip-rule="evenodd"
      />
    </svg>
    <h4>TAGS</h4>
  </div>

  <div class="d-flex gap-4 mx-5 my-5">
    <app-custom-button buttonText="Espresso"></app-custom-button>
    <app-custom-button buttonText="Cold brew"></app-custom-button>
    <app-custom-button buttonText="Coffee recipes"></app-custom-button>
    <app-custom-button buttonText="Caffeine"></app-custom-button>
    <app-custom-button buttonText="Coffee history"></app-custom-button>
    <app-custom-button buttonText="Coffee beans"></app-custom-button>
  </div>

  <div class="vegetable-container mx-4">
    <h2 class="fw-bold">Coffee</h2>
    <p i18n class="my-3">
      Coffee, originating from the roasted seeds of the Coffea plant native to
      tropical Africa, Madagascar, and the Comoros, stands as one of the most
      beloved beverages globally. With its cultivation spanning over 70
      countries along the equatorial "Coffee Belt," coffee thrives in climates
      conducive to its growth. The two primary species, Coffea arabica and
      Coffea robusta, yield distinct flavorsâ€”the former boasting a mild taste
      and fragrant aroma, while the latter presents a stronger, more bitter
      profile..<span [ngClass]="{ 'fade-text': !isExpanded }">
        Following harvest, coffee cherries undergo meticulous processing to
        extract the beans, which are then dried and roasted to perfection.
        Brewed using diverse methods such as drip, espresso, French press,
        pour-over, or cold brew, each approach offers a unique sensory
        experience. Beyond its gustatory pleasures, coffee offers health
        benefits attributed to its caffeine content and antioxidants, impacting
        cognitive function and potentially reducing the risk of certain
        diseases. Furthermore, coffee's cultural significance transcends
        borders, serving as a cornerstone of social interaction in coffeehouses
        worldwide, while also underpinning economies through its role as one of
        the most traded commodities globally.
      </span>
      @if (isExpanded) {
      <span>
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Nesciunt dicta
        impedit, qui natus adipisci facilis aspernatur aliquid iste ut dolores
        ab sunt consectetur eum quas eaque. Sequi aliquam repudiandae tenetur.
        Optio est blanditiis ducimus quos, fugit reprehenderit earum repellat
        dignissimos. Voluptatum ad nam a voluptatem suscipit? Lorem ipsum dolor
        sit amet consectetur adipisicing elit. Laudantium maiores vero
        laboriosam perferendis nihil officiis at, eos omnis dolor nulla ullam
        expedita asperiores blanditiis, sed id. Dolore maxime molestias
        aliquam?</span
      >
      }
    </p>
    <div class="d-flex align-items-center justify-content-center">
      <button (click)="toggleExpand()" class="border-0 see-more">
        {{ isExpanded ? "See Less -" : "See More +" }}
      </button>
    </div>
  </div>
</div>
<!-- End of tag -->

<!-- Services Region -->
<div
  class="container d-flex align-items-center justify-content-between my-5 px-3 services-container"
>
  <div class="d-flex gap-3">
    <div class="services-icons">
      <svg
        fill="#000000"
        version="1.1"
        id="Capa_1"
        width="40px"
        height="40px"
        viewBox="0 0 612.001 612"
      >
        <g id="SVGRepo_iconCarrier">
          <g>
            <path
              d="M604.131,440.17h-19.12V333.237c0-12.512-3.776-24.787-10.78-35.173l-47.92-70.975 c-11.725-17.311-31.238-27.698-52.169-27.698h-74.28c-8.734,0-15.737,7.082-15.737,15.738v225.043H262.475 c11.567,9.992,19.514,23.92,21.796,39.658H412.53c4.563-31.238,31.475-55.396,63.972-55.396c32.498,0,59.33,24.158,63.895,55.396 h63.735c4.328,0,7.869-3.541,7.869-7.869V448.04C612,443.713,608.46,440.17,604.131,440.17z M525.76,312.227h-98.044 c-4.327,0-7.868-3.463-7.868-7.869v-54.372c0-4.328,3.541-7.869,7.868-7.869h59.724c2.597,0,4.957,1.259,6.452,3.305l38.32,54.451 C535.831,305.067,532.133,312.227,525.76,312.227z M476.502,440.17c-27.068,0-48.943,21.953-48.943,49.021 c0,26.99,21.875,48.943,48.943,48.943c26.989,0,48.943-21.953,48.943-48.943C525.445,462.125,503.491,440.17,476.502,440.17z M476.502,513.665c-13.535,0-24.472-11.016-24.472-24.471c0-13.535,10.937-24.473,24.472-24.473 c13.533,0,24.472,10.938,24.472,24.473C500.974,502.649,490.036,513.665,476.502,513.665z M68.434,440.17 c-4.328,0-7.869,3.543-7.869,7.869v23.922c0,4.328,3.541,7.869,7.869,7.869h87.971c2.282-15.738,10.229-29.666,21.718-39.658 H68.434V440.17z M220.298,440.17c-26.989,0-48.943,21.953-48.943,49.021c0,26.99,21.954,48.943,48.943,48.943 c27.068,0,48.943-21.953,48.943-48.943C269.242,462.125,247.367,440.17,220.298,440.17z M220.298,513.665 c-13.534,0-24.471-11.016-24.471-24.471c0-13.535,10.937-24.473,24.471-24.473c13.534,0,24.472,10.938,24.472,24.473 C244.77,502.649,233.832,513.665,220.298,513.665z M338.014,150.605h-91.198c4.485,13.298,6.846,27.54,6.846,42.255 c0,74.28-60.431,134.711-134.711,134.711c-13.535,0-26.675-2.045-39.029-5.744v86.949c0,4.328,3.541,7.869,7.869,7.869h265.96 c4.329,0,7.869-3.541,7.869-7.869V174.211C361.619,161.149,351.075,150.605,338.014,150.605z M118.969,73.866 C53.264,73.866,0,127.129,0,192.834s53.264,118.969,118.969,118.969s118.97-53.264,118.97-118.969S184.674,73.866,118.969,73.866z M118.969,284.73c-50.752,0-91.896-41.143-91.896-91.896c0-50.753,41.144-91.896,91.896-91.896 c50.753,0,91.896,41.144,91.896,91.896C210.865,243.587,169.722,284.73,118.969,284.73z M154.066,212.242 c-1.014,0-2.052-0.131-3.082-0.407L112.641,201.5c-5.148-1.391-8.729-6.062-8.729-11.396v-59.015 c0-6.516,5.287-11.803,11.803-11.803c6.516,0,11.803,5.287,11.803,11.803v49.971l29.614,7.983 c6.294,1.698,10.02,8.177,8.322,14.469C164.033,208.776,159.269,212.242,154.066,212.242z"
            ></path>
          </g>
        </g>
      </svg>
    </div>
    <div>
      <h6 class="fw-bold">Free US Delivery</h6>
      <p class="text-secondary">Free shipping on all order above $200</p>
    </div>
  </div>

  <div class="d-flex gap-3">
    <div class="services-icons">
      <svg
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
        class="w-6 h-6"
        width="40px"
        height="40px"
        color=" black"
      >
        <path
          d="M20.25 3.75v4.5m0-4.5h-4.5m4.5 0-6 6m3 12c-8.284 0-15-6.716-15-15V4.5A2.25 2.25 0 0 1 4.5 2.25h1.372c.516 0 .966.351 1.091.852l1.106 4.423c.11.44-.054.902-.417 1.173l-1.293.97a1.062 1.062 0 0 0-.38 1.21 12.035 12.035 0 0 0 7.143 7.143c.441.162.928-.004 1.21-.38l.97-1.293a1.125 1.125 0 0 1 1.173-.417l4.423 1.106c.5.125.852.575.852 1.091V19.5a2.25 2.25 0 0 1-2.25 2.25h-2.25Z"
        />
      </svg>
    </div>
    <div>
      <h6 class="fw-bold">SUPPORT 24/7</h6>
      <p class="text-secondary">Contact us 24 hours a day, 7 days a week</p>
    </div>
  </div>

  <div class="d-flex gap-3">
    <div class="services-icons">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
        class="w-6 h-6"
        width="40px"
        height="40px"
        color=" black"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"
        />
      </svg>
    </div>
    <div>
      <h6 class="fw-bold">7 DAYS RETURN</h6>
      <p class="text-secondary">Return it within 30 days for an exchange</p>
    </div>
  </div>
</div>
