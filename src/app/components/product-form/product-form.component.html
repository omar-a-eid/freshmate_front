<div class="container mt-5 mb-5">
  <div class="row justify-content-center">
    <div class="col-md-9 col-md-offset-3">
      <div class="card border-0 shadow">
        <div class="card-header bg-dark text-white">
          <h2 class="mb-0">
            {{ isEditMode ? "Edit Product" : "Add New Product" }}
          </h2>
        </div>
        <div class="card-body">
          <form
            [formGroup]="productForm"
            (ngSubmit)="onSubmit()"
            enctype="multipart/form-data"
          >
            <div class="form-group">
              <label for="productTitle">Product Title (English):</label>
              <input
                type="text"
                class="form-control"
                id="productTitle"
                formControlName="titleEn"
              />
              <div class="text-danger">English title is required.</div>
            </div>

            <div class="form-group">
              <label for="productTitleArabic">Product Title (Arabic):</label>
              <input
                type="text"
                class="form-control"
                id="productTitleArabic"
                formControlName="titleAr"
              />
              <div class="text-danger">Arabic title is required.</div>
            </div>

            <div class="form-group">
              <label for="productDesc">Product Description (English):</label>
              <textarea
                class="form-control"
                id="productDesc"
                formControlName="descEn"
              ></textarea>
              <div class="text-danger">English description is required.</div>
            </div>

            <div class="form-group">
              <label for="productDescArabic"
                >Product Description (Arabic):</label
              >
              <textarea
                class="form-control"
                id="productDescArabic"
                formControlName="descAr"
              ></textarea>
              <div class="text-danger">Arabic description is required.</div>
            </div>

            <div class="form-group">
              <label for="productPrice">Product Price:</label>
              <input
                type="number"
                class="form-control"
                id="productPrice"
                formControlName="price"
              />
              <div class="text-danger">
                Price is required and should be a positive number.
              </div>
            </div>

            <div class="form-group">
              <label for="productQuantity">Product Quantity:</label>
              <input
                type="number"
                class="form-control"
                id="productQuantity"
                formControlName="quantity"
              />
              <div class="text-danger">
                Quantity is required and should be a positive number.
              </div>
            </div>

            <div class="form-group">
              <label for="productImage">Product Image:</label>
              <input
                type="file"
                class="form-control-file"
                id="productImage"
                (change)="onFileChange($event)"
                name="productImage"
                multiple
              />
              <div class="text-danger">Image is required.</div>

              @for (image of productForm.value.oldImages; track $index) {
              <div>
                <img
                  src="http://localhost:8000/{{ image }}"
                  alt=""
                  width="100px"
                  height="100px"
                />
              </div>
              }
            </div>
            <button type="submit" class="btn btn-dark">
              {{ isEditMode ? "Update Product" : "Add Product" }}
            </button>
            <button
              type="button"
              class="btn btn-danger ml-2"
              *ngIf="isEditMode"
              (click)="onDelete()"
            >
              Delete Product
            </button>
            <p *ngIf="message" class="mt-3">{{ message }}</p>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
